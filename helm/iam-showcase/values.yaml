namespace: iam-showcase

# PostgreSQL (Keycloak)
postgresKeycloak:
  image: postgres:16-alpine
  storage: 5Gi
  database: keycloak
  username: keycloak
  password: keycloak-secret

# PostgreSQL (App)
postgresApp:
  image: postgres:16-alpine
  storage: 5Gi
  database: iam_showcase
  username: iam_app
  password: app-secret

# Keycloak
keycloak:
  image: quay.io/keycloak/keycloak:24.0
  replicas: 1
  adminUser: admin
  adminPassword: admin-secret
  hostname: auth.iam-demo.celox.io
  resources:
    requests:
      cpu: 500m
      memory: 512Mi
    limits:
      cpu: 1000m
      memory: 1024Mi

# Backend
backend:
  image: iam-showcase-backend:latest
  replicas: 2
  port: 8080
  resources:
    requests:
      cpu: 250m
      memory: 256Mi
    limits:
      cpu: 500m
      memory: 512Mi
  hpa:
    enabled: true
    minReplicas: 2
    maxReplicas: 5
    targetCPUUtilization: 70

# Frontend
frontend:
  image: iam-showcase-frontend:latest
  replicas: 2
  port: 80
  hostname: iam-demo.celox.io

ingress:
  enabled: true
  className: nginx
  tls: true
  clusterIssuer: letsencrypt-prod
