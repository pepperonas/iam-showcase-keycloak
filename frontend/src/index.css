@tailwind base;
@tailwind components;
@tailwind utilities;

body {
  margin: 0;
  font-family: 'Roboto', system-ui, -apple-system, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  background-color: #fef7ff;
}

code {
  font-family: 'Roboto Mono', ui-monospace, monospace;
}

/* MD3 Button Styles */
@layer components {
  .btn-filled {
    @apply inline-flex items-center justify-center px-6 py-2.5 rounded-full
           bg-primary-500 text-white text-label-lg font-medium
           shadow-elevation-0 hover:shadow-elevation-1
           transition-all duration-md3-short ease-md3-standard
           focus:outline-none focus:ring-2 focus:ring-primary-300 focus:ring-offset-2
           disabled:opacity-38 disabled:shadow-none disabled:pointer-events-none
           relative overflow-hidden;
  }

  .btn-filled::after {
    content: '';
    @apply absolute inset-0 bg-white opacity-0 transition-opacity duration-md3-short;
  }

  .btn-filled:hover::after {
    @apply opacity-[0.08];
  }

  .btn-filled:active::after {
    @apply opacity-[0.12];
  }

  .btn-outlined {
    @apply inline-flex items-center justify-center px-6 py-2.5 rounded-full
           bg-transparent text-primary-500 text-label-lg font-medium
           border border-outline
           transition-all duration-md3-short ease-md3-standard
           focus:outline-none focus:ring-2 focus:ring-primary-300
           disabled:opacity-38 disabled:pointer-events-none
           relative overflow-hidden;
  }

  .btn-outlined:hover {
    @apply bg-primary-500/[0.08];
  }

  .btn-outlined:active {
    @apply bg-primary-500/[0.12];
  }

  .btn-tonal {
    @apply inline-flex items-center justify-center px-6 py-2.5 rounded-full
           bg-secondary-container text-on-secondary-container text-label-lg font-medium
           shadow-elevation-0 hover:shadow-elevation-1
           transition-all duration-md3-short ease-md3-standard
           focus:outline-none focus:ring-2 focus:ring-secondary-300
           disabled:opacity-38 disabled:shadow-none disabled:pointer-events-none
           relative overflow-hidden;
  }

  .btn-text {
    @apply inline-flex items-center justify-center px-3 py-2.5 rounded-full
           bg-transparent text-primary-500 text-label-lg font-medium
           transition-all duration-md3-short ease-md3-standard
           focus:outline-none
           disabled:opacity-38 disabled:pointer-events-none
           relative overflow-hidden;
  }

  .btn-text:hover {
    @apply bg-primary-500/[0.08];
  }

  /* MD3 Card Styles */
  .card-elevated {
    @apply bg-surface-container-low rounded-md shadow-elevation-1
           transition-shadow duration-md3-short ease-md3-standard;
  }

  .card-elevated:hover {
    @apply shadow-elevation-2;
  }

  .card-filled {
    @apply bg-surface-container-highest rounded-md shadow-elevation-0;
  }

  .card-outlined {
    @apply bg-surface rounded-md border border-outline-variant shadow-elevation-0;
  }

  /* MD3 Circular Progress */
  .md3-spinner {
    @apply w-12 h-12;
    animation: md3-rotate 1.568s linear infinite;
  }

  .md3-spinner circle {
    @apply stroke-primary-500;
    stroke-dasharray: 100;
    stroke-dashoffset: 0;
    stroke-linecap: round;
    animation: md3-dash 1.568s ease-in-out infinite;
  }

  /* State Layer */
  .state-layer {
    @apply relative overflow-hidden;
  }

  .state-layer::before {
    content: '';
    @apply absolute inset-0 opacity-0 transition-opacity duration-md3-short;
  }

  .state-layer-primary::before {
    @apply bg-primary-500;
  }

  .state-layer:hover::before {
    @apply opacity-[0.08];
  }

  .state-layer:focus::before {
    @apply opacity-[0.12];
  }

  .state-layer:active::before {
    @apply opacity-[0.12];
  }
}

@keyframes md3-rotate {
  100% {
    transform: rotate(360deg);
  }
}

@keyframes md3-dash {
  0% {
    stroke-dashoffset: 100;
  }
  50% {
    stroke-dashoffset: 25;
  }
  100% {
    stroke-dashoffset: 100;
  }
}

/* Disabled opacity token */
@layer utilities {
  .opacity-38 {
    opacity: 0.38;
  }
}
